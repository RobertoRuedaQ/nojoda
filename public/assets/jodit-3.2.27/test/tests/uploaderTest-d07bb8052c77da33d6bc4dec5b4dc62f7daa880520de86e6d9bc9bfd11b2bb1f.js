describe("Test uploader module",function(){describe("Drop file",function(){describe("Drop Image like base64",function(){it("Should insert image with SRC in base64",function(e){var t=new FileImage,i=new Jodit(appendTestArea(),{uploader:{insertImageAsBase64URI:!0},events:{afterInsertImage:function(o){expect(o.src).to.be.equal(t.dataURI),expect(i.value).to.be.equal('<img src="'+t.dataURI+'">'),e()}}});simulateEvent("drop",0,i.editor,function(e){Object.defineProperty(e,"dataTransfer",{value:{files:[t]}})})})}),describe("Drop Image and upload on server",function(){it("Should upload file and insert image with SRC from server",function(e){var t=new FileImage,i=new Jodit(appendTestArea(),{observer:{timeout:0},uploader:{url:"https://xdsoft.net/jodit/connector/index.php?action=fileUpload"},events:{afterInsertImage:function(t){expect(t.src).to.be.equal("https://xdsoft.net/jodit/files/logo.gif"),expect(i.value).to.be.equal('<img src="https://xdsoft.net/jodit/files/logo.gif">'),e()}}});simulateEvent("drop",0,i.editor,function(e){Object.defineProperty(e,"dataTransfer",{value:{files:[t]}})})})}),describe("Drop File and upload on server",function(){it("Should upload file and insert A element with HREF to file on server",function(e){var t=new FileXLS,i=new Jodit(appendTestArea(),{observer:{timeout:0},uploader:{url:"https://xdsoft.net/jodit/connector/index.php?action=fileUpload"},events:{afterInsertNode:function(t){expect(t.href).to.be.equal("https://xdsoft.net/jodit/files/file.xls"),expect(i.value).to.be.equal('<a href="https://xdsoft.net/jodit/files/file.xls">https://xdsoft.net/jodit/files/file.xls</a>'),e()}}});simulateEvent("drop",0,i.editor,function(e){Object.defineProperty(e,"dataTransfer",{value:{files:[t]}})})}),describe("Drop with insertImageAsBase64URI=true",function(){it("Should upload file and insert A element with HREF to file on server",function(e){var t=new FileXLS,i=new Jodit(appendTestArea(),{observer:{timeout:0},uploader:{url:"https://xdsoft.net/jodit/connector/index.php?action=fileUpload",insertImageAsBase64URI:!0},events:{afterInsertNode:function(t){expect(t.href).to.be.equal("https://xdsoft.net/jodit/files/file.xls"),expect(i.value).to.be.equal('<a href="https://xdsoft.net/jodit/files/file.xls">https://xdsoft.net/jodit/files/file.xls</a>'),e()}}});simulateEvent("drop",0,i.editor,function(e){Object.defineProperty(e,"dataTransfer",{value:{files:[t]}})})})})})}),afterEach(removeStuff)});