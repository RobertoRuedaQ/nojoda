describe("Commands Jodit Editor Tests",function(){describe('Command "formatBlock"',function(){it('Try exec the command "formatBlock" for several elements',function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>test</p><p>test2</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStartBefore(e.editor.firstChild),o.setEndAfter(e.editor.lastChild),t.removeAllRanges(),t.addRange(o),e.execCommand("formatBlock",!1,"h1"),expect(e.getEditorValue()).to.equal("<h1>test</h1><h1>test2</h1>")}),describe("Exec formatBlock for one inline element",function(){it("Should wrap this element and all nearest inine element in block",function(){var e=new Jodit(appendTestArea());e.value="stop <span>post</span> ice";var t=e.editorDocument.createRange();t.setStart(e.editor.firstChild,0),t.setEnd(e.editor.firstChild,2),e.selection.selectRange(t),e.execCommand("formatBlock",!1,"h1"),expect(e.value).to.equal("<h1>stop <span>post</span> ice</h1>")})}),it('Try exec the command "formatBlock" in text node then selection is collapsed it should wrap it node in H1',function(){var e=new Jodit(appendTestArea());e.setEditorValue("test");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild,2),t.removeAllRanges(),t.addRange(o),e.execCommand("formatBlock",!1,"h1"),e.selection.insertNode(e.editorDocument.createTextNode(" a ")),expect(e.getEditorValue()).to.equal("<h1>te a st</h1>")}),it('Try exec the command "formatBlock" in the end of text node then selection is collapsed it should wrap it node in H1',function(){var e=new Jodit(appendTestArea());e.setEditorValue("test");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild,4),t.removeAllRanges(),t.addRange(o),e.execCommand("formatBlock",!1,"h1"),e.selection.insertNode(e.editorDocument.createTextNode(" a ")),expect(e.getEditorValue()).to.equal("<h1>test a </h1>")}),it('Try exec the command "formatBlock" for several text nodes',function(){var e=new Jodit(appendTestArea());e.setEditorValue(""),e.selection.insertNode(Jodit.modules.Dom.create("text","test",e.editorDocument)),e.selection.insertNode(Jodit.modules.Dom.create("text"," test2",e.editorDocument)),e.selection.insertNode(Jodit.modules.Dom.create("text"," test3",e.editorDocument)),e.selection.insertNode(Jodit.modules.Dom.create("span"," test4",e.editorDocument));var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild,0),o.setEnd(e.editor.lastChild,0),t.removeAllRanges(),t.addRange(o),e.execCommand("formatBlock",!1,"h1"),expect(e.getEditorValue()).to.equal("<h1>test test2 test3<span> test4</span></h1>")}),it("Should create empty element and set cursor into it when editor is empty",function(){var e=new Jodit(appendTestArea());e.setEditorValue(""),e.selection.focus(),e.execCommand("formatBlock",!1,"h1"),e.selection.insertHTML("test"),expect(e.getEditorValue()).to.equal("<h1>test</h1>")}),describe("For UL>li elements",function(){describe("Select only LI",function(){it("Should replace all LI elements to P and unwrap it from UL",function(){var e=new Jodit(appendTestArea());e.value="<ul><li>1</li><li>2</li><li>3</li></ul>";var t=e.editorDocument.createRange();t.setStart(e.editor.firstChild.firstChild.firstChild,0),t.setEnd(e.editor.firstChild.lastChild.firstChild,1),e.selection.selectRange(t),e.execCommand("formatBlock",!1,"h1"),expect(e.value).to.be.equal("<ul><li><h1>1</h1></li><li><h1>2</h1></li><li><h1>3</h1></li></ul>"),e.execCommand("formatBlock",!1,"p"),expect(e.value).to.be.equal("<ul><li>1</li><li>2</li><li>3</li></ul>")})}),describe("Select UL",function(){it("Should replace all LI elements to P and unwrap it from UL",function(){var e=new Jodit(appendTestArea());e.value="<ul><li>1</li><li>2</li><li>3</li></ul>";var t=e.editorDocument.createRange();t.selectNode(e.editor.firstChild),e.selection.selectRange(t),e.execCommand("formatBlock",!1,"h1"),expect(e.value).to.be.equal("<ul><li><h1>1</h1></li><li><h1>2</h1></li><li><h1>3</h1></li></ul>"),e.execCommand("formatBlock",!1,"p"),expect(e.value).to.be.equal("<ul><li>1</li><li>2</li><li>3</li></ul>")})})})}),describe("Sub/Supscript native",function(){describe("sub",function(){it("Should insert selection im SUB element",function(){var e=new Jodit(appendTestArea());e.value="<p>test</p>";var t=e.editorDocument.createRange();t.setStart(e.editor.firstChild.firstChild,2),t.setEnd(e.editor.firstChild.firstChild,4),e.selection.selectRange(t),e.execCommand("subscript"),expect(e.value).to.be.equal("<p>te<sub>st</sub></p>")})}),describe("sup",function(){it("Should insert selection im SUP element",function(){var e=new Jodit(appendTestArea());e.value="<p>test</p>";var t=e.editorDocument.createRange();t.setStart(e.editor.firstChild.firstChild,2),t.setEnd(e.editor.firstChild.firstChild,4),e.selection.selectRange(t),e.execCommand("superscript"),expect(e.value).to.be.equal("<p>te<sup>st</sup></p>")})})}),describe("Bold command",function(){describe('For box with style="font-weight:bold"',function(){it("should wrap selected text in STRONG element without questions",function(){var e=new Jodit(appendTestArea()),t=document.createElement("style");e.setEditorValue("<p>test</p>"),t.innerHTML="p {font-weight: bold !important};",document.body.appendChild(t);var o=e.editorWindow.getSelection(),i=e.editorDocument.createRange();i.setStart(e.editor.firstChild.firstChild,0),i.setEnd(e.editor.firstChild.firstChild,4),o.removeAllRanges(),o.addRange(i),e.execCommand("bold"),t.parentNode.removeChild(t),expect(e.getEditorValue()).to.equal("<p><strong>test</strong></p>")})}),it("Should insert a few chars and again exec bold. Bold mode should be switch off",function(){var e=new Jodit(appendTestArea());e.setEditorValue("test");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.selectNodeContents(e.editor.firstChild),o.collapse(!1),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),e.selection.insertNode(Jodit.modules.Dom.create("text","abc",e.editorDocument)),e.execCommand("bold"),e.selection.insertNode(Jodit.modules.Dom.create("text","def",e.editorDocument)),expect(e.getEditorValue()).to.equal("test<strong>abc</strong>def")}),describe("for some text",function(){it("should wrap this text in STRONG element",function(){var e=new Jodit(appendTestArea());e.setEditorValue("test");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.selectNodeContents(e.editor.firstChild),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),expect(e.getEditorValue()).to.equal("<strong>test</strong>")}),describe("inside STRONG element ",function(){it("from start of this element, should unwrap this text",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<strong>test</strong>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,0),o.setEnd(e.editor.firstChild.firstChild,2),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),expect(e.getEditorValue()).to.equal("te<strong>st</strong>")}),it("near end of this element, should unwrap this text",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<strong>test</strong>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,2),o.setEnd(e.editor.firstChild.firstChild,4),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),expect(e.getEditorValue()).to.equal("<strong>te</strong>st")}),it("in the middle of this element, should unwrap this text",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<strong>test</strong>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,1),o.setEnd(e.editor.firstChild.firstChild,3),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),expect(e.getEditorValue()).to.equal("<strong>t</strong>es<strong>t</strong>")}),it('should unwrap this part and after exec "bold" again it should create 3 STRONG elements',function(){var e=new Jodit(appendTestArea());e.setEditorValue("<strong>1 2 3</strong>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,1),o.setEnd(e.editor.firstChild.firstChild,4),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),e.execCommand("bold"),expect(e.getEditorValue()).to.equal("<strong>1</strong><strong> 2 </strong><strong>3</strong>")})}),it("that contains a few STRONG elements, should unwrap all of these",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<strong>test</strong> test <strong>test</strong>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,0),o.setEnd(e.editor.lastChild.firstChild,4),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),expect(e.getEditorValue()).to.equal("test test test")})}),describe('Try exec the command "bold"',function(){it("Should wrap selected text in STRONG element",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>test</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.selectNodeContents(e.editor.firstChild),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),expect(e.getEditorValue()).to.equal("<p><strong>test</strong></p>")}),describe('Try exec the command "bold" twice',function(){it("Should unwrap strong elements",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>test</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.selectNodeContents(e.editor.firstChild),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),e.execCommand("bold"),expect(e.getEditorValue()).to.equal("<p>test</p>")})})}),describe('Try exec the command "bold" for font-weight: 700 Element',function(){it("should ubnwrap selected srtong element",function(){var e=new Jodit(appendTestArea());e.setEditorValue('<span style="font-weight: 700">test</span>');var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.selectNodeContents(e.editor.firstChild),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),expect(e.getEditorValue()).to.equal("test")})}),describe("Exec bold for collapsed range and move cursor in another place",function(){it("Should remove STRONG element",function(){var e=new Jodit(appendTestArea(),{cleanHTML:{timeout:0}});e.value="testtest";var t=e.editorDocument.createRange();t.setStart(e.editor.firstChild,4),t.collapse(!0),e.selection.selectRange(t),e.execCommand("bold"),expect(e.value).to.be.equal("test<strong></strong>test"),t.setStart(e.editor.lastChild,2),t.collapse(!0),e.selection.selectRange(t),simulateEvent("mousedown",0,e.editor),expect(e.value).to.be.equal("testtest")})}),describe("Exec bold command for SPAN with font-size",function(){it("Should leave both font-size and font-weight rules",function(){var e=new Jodit(appendTestArea());e.setEditorValue('<span style="font-size: 36px;">asdasd</span>');var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,0),o.setEnd(e.editor.firstChild.firstChild,6),t.removeAllRanges(),t.addRange(o),e.execCommand("bold"),expect(sortAtrtibutes(e.value)).to.equal(sortAtrtibutes('<span style="font-size: 36px;"><strong>asdasd</strong></span>'))})})}),describe("After exec some command",function(){it("should restore selection to previous",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>test</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,2),o.setEnd(e.editor.firstChild.firstChild,3),t.removeAllRanges(),t.addRange(o),e.execCommand("italic"),e.selection.insertNode(e.editorDocument.createTextNode("top")),expect(e.getEditorValue()).to.equal("<p>tetopt</p>")}),describe("in collapsed selection",function(){it("should place cursor inward",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>test</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,2),o.collapse(!0),t.removeAllRanges(),t.addRange(o),e.execCommand("underline"),e.selection.insertNode(e.editorDocument.createTextNode("data")),expect(e.getEditorValue()).to.equal("<p>te<u>data</u>st</p>")})})}),describe("insertUnorderedList",function(){it("Run command insertUnorderedList should wrap or replace all paragraphs to ul>li",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>test</p><p>test</p><p>test</p>"),e.execCommand("selectAll"),e.execCommand("insertUnorderedList"),expect(e.getEditorValue()).to.equal("<ul><li>test</li><li>test</li><li>test</li></ul>")}),it("If press Enter inside <li> in the end it should create new <li> and cursor must be in it",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<ul><li>test</li></ul>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild.firstChild,4),o.collapse(!0),t.removeAllRanges(),t.addRange(o),simulateEvent("keydown",Jodit.KEY_ENTER,e.editor),e.selection.insertNode(e.editorDocument.createTextNode(" a ")),expect(e.getEditorValue()).to.equal("<ul><li>test</li><li> a <br></li></ul>")}),it("If press Enter inside <li> inside some text should split that text and created new <li> and cursor must be in it",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<ul><li>test</li></ul>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild.firstChild,2),o.collapse(!0),t.removeAllRanges(),t.addRange(o),simulateEvent("keydown",Jodit.KEY_ENTER,e.editor),e.selection.insertNode(e.editorDocument.createTextNode(" a ")),expect(e.getEditorValue()).to.equal("<ul><li>te</li><li> a st</li></ul>")})}),describe("formatBlock",function(){it("Should wrap or replace container to specialize tag",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>testy oprst <span>lets go</span></p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,5),o.collapse(!0),t.removeAllRanges(),t.addRange(o),e.execCommand("formatBlock",!1,"h5"),expect(e.getEditorValue()).to.equal("<h5>testy oprst <span>lets go</span></h5>")}),it("Should wrap text into H1 tag near Table, but table must be after this tag",function(){var e=new Jodit(appendTestArea());e.setEditorValue("test<table><tr><td>post</td></tr></table>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setEnd(e.editor.firstChild,4),o.collapse(!1),t.removeAllRanges(),t.addRange(o),e.execCommand("formatBlock",!1,"h1"),expect(e.getEditorValue()).to.equal("<h1>test</h1><table><tbody><tr><td>post</td></tr></tbody></table>")}),describe("justifyLeft",function(){it("Should set align for element which was created using formatBlock",function(){var e=new Jodit(appendTestArea());e.setEditorValue("testy oprst <span>lets go</span>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild,5),o.collapse(!0),t.removeAllRanges(),t.addRange(o),e.execCommand("formatBlock",!1,"h5"),e.execCommand("justifyLeft"),e.execCommand("fontSize",!1,14),expect(e.getEditorValue()).to.equal('<h5 style="text-align: left;">testy<span style="font-size: 14px;"></span> oprst <span>lets go</span></h5>')})}),it("Insert H1 inside TD should crearte new H1 withow replacement",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<table><tr><td>1</td></tr></table>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.selectNodeContents(e.editor.querySelector("td")),t.removeAllRanges(),t.addRange(o),e.execCommand("formatBlock",!1,"h1"),expect(e.getEditorValue()).to.equal("<table><tbody><tr><td><h1>1</h1></td></tr></tbody></table>")})}),describe("Colors",function(){it("Set colour for all selection should create <span></span> tags inside all paragraps",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>1</p><p>2</p><p>3</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild,0),o.setEnd(e.editor.lastChild,1),t.removeAllRanges(),t.addRange(o),e.execCommand("foreColor",!1,"#f00"),expect('<p><span style="color: rgb(255, 0, 0);">1</span></p><p><span style="color: rgb(255, 0, 0);">2</span></p><p><span style="color: rgb(255, 0, 0);">3</span></p>').to.equal(e.getEditorValue())}),it("Set colour to collapsed position should create empty span and insert inward cursor",function(){var e=new Jodit(appendTestArea());e.setEditorValue("testy oprst <span>lets go</span>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild,5),o.collapse(!0),t.removeAllRanges(),t.addRange(o),e.execCommand("foreColor",!1,"#f00"),expect(e.getEditorValue()).to.equal('testy<span style="color: rgb(255, 0, 0);"></span> oprst <span>lets go</span>')})}),describe("Fonts",function(){describe("Set font size",function(){it('should create attribute style="font-size:value"',function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p> testy oprst <span>lets go</span></p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.selectNode(e.editor.querySelector("span")),t.removeAllRanges(),t.addRange(o),e.execCommand("fontSize",!1,12),expect(e.getEditorValue()).to.equal('<p> testy oprst <span style="font-size: 12px;">lets go</span></p>'),e.execCommand("fontSize",!1,"12%"),expect(e.getEditorValue()).to.equal('<p> testy oprst <span style="font-size: 12%;">lets go</span></p>')}),describe('For box with style="font-size:12px"',function(){it('should wrap selected text in SPAN with style="font-size:12px" element without questions',function(){var e=new Jodit(appendTestArea());e.setEditorValue("test");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.selectNodeContents(e.editor.firstChild),t.removeAllRanges(),t.addRange(o),e.editor.style.fontSize="12px",e.execCommand("fontSize",!1,12),expect(e.getEditorValue()).to.equal('<span style="font-size: 12px;">test</span>')})})}),describe("Set font family",function(){describe('For box with style="font-name:Arial"',function(){it('should wrap selected text in SPAN with style="font-family:Arial" element without questions',function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>test</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,2),o.setEnd(e.editor.firstChild.firstChild,4),t.removeAllRanges(),t.addRange(o),e.editor.style.fontFamily="Arial",e.execCommand("fontName",!1,"Arial"),expect(e.getEditorValue()).to.equal('<p>te<span style="font-family: Arial;">st</span></p>')})}),it('should create attribute style="font-family:value"',function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>test</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,2),o.setEnd(e.editor.firstChild.firstChild,4),t.removeAllRanges(),t.addRange(o),e.execCommand("fontName",!1,"Arial"),expect(e.getEditorValue()).to.equal('<p>te<span style="font-family: Arial;">st</span></p>')})})}),describe("Align",function(){it("Justify to right",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<p>test</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,2),o.collapse(!0),t.removeAllRanges(),t.addRange(o),e.execCommand("justifyright"),expect(e.getEditorValue()).to.equal('<p style="text-align: right;">test</p>')}),it("Justify to center",function(){var e=new Jodit(appendTestArea());e.setEditorValue("test");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild,2),o.collapse(!0),t.removeAllRanges(),t.addRange(o),e.execCommand("justifycenter"),expect(e.getEditorValue()).to.equal('<p style="text-align: center;">test</p>')}),it("Justify to left",function(){var e=new Jodit(appendTestArea());e.setEditorValue("test some text <span>test</span><br><p>data</p>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild,8),o.collapse(!0),t.removeAllRanges(),t.addRange(o),e.execCommand("justifyleft"),expect(e.getEditorValue()).to.equal('<p style="text-align: left;">test some text <span>test</span><br></p><p>data</p>')}),it("Justify to left in element of unordered list",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<ul><li>test</li><li>data</li></ul>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild.firstChild,2),o.collapse(!0),t.removeAllRanges(),t.addRange(o),e.execCommand("justifyleft"),expect(e.getEditorValue()).to.equal('<ul><li style="text-align: left;">test</li><li>data</li></ul>')}),it("Justify to full",function(){var e=new Jodit(appendTestArea());e.setEditorValue("<h1>test some text <span>test</span></h1>");var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild.firstChild,8),o.collapse(!0),t.removeAllRanges(),t.addRange(o),e.execCommand("justifyfull"),expect(e.getEditorValue()).to.equal('<h1 style="text-align: justify;">test some text <span>test</span></h1>')}),describe("Justify plain text with enter = br mode",function(){it("Should wrap this text in enterBlock element",function(){var e=new Jodit(appendTestArea(),{enter:"br"});e.value="test";var t=e.editorWindow.getSelection(),o=e.editorDocument.createRange();o.setStart(e.editor.firstChild,0),o.setEnd(e.editor.firstChild,4),t.removeAllRanges(),t.addRange(o),e.execCommand("justifyleft"),expect(e.getEditorValue()).to.equal('<p style="text-align: left;">test</p>')})})}),describe("Register sustom command",function(){it("Should register command and hotkeys for it",function(){var e=new Jodit(appendTestArea());e.setEditorValue("test test test");var t=e.editorDocument.createRange();t.setStart(e.editor.firstChild,4),t.setEnd(e.editor.firstChild,8),e.selection.selectRange(t),e.registerCommand("someCommand",function(){this.setEditorValue("stop")}),expect("stop").to.be.not.equal(e.getEditorValue()),e.execCommand("someCommand"),expect("stop").to.be.equal(e.getEditorValue()),e.registerCommand("someCommands",{hotkeys:"ctrl+d",exec:function(){this.setEditorValue("even")}}),expect("even").to.be.not.equal(e.getEditorValue()),simulateEvent("keydown",68,e.editor,function(e){e.ctrlKey=!0}),expect("even").to.be.equal(e.getEditorValue())})}),describe("Indent",function(){describe("Exec Indent command several times",function(){it("Should increase margin-left",function(){var e=new Jodit(appendTestArea());e.value="<ul><li>test</li></ul>";var t=e.editorDocument.createRange();t.setStart(e.editor.firstChild.firstChild.firstChild,0),t.collapse(!0),e.selection.selectRange(t),e.execCommand("indent"),expect(e.value).to.be.equal('<ul><li style="margin-left: 10px;">test</li></ul>'),e.execCommand("indent"),expect(e.value).to.be.equal('<ul><li style="margin-left: 20px;">test</li></ul>'),e.execCommand("indent"),expect(e.value).to.be.equal('<ul><li style="margin-left: 30px;">test</li></ul>'),e.execCommand("outdent"),expect(e.value).to.be.equal('<ul><li style="margin-left: 20px;">test</li></ul>')})})}),afterEach(removeStuff)});